<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="asset/css/common.css">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <title>테스트</title>
  </head>
  <body>
    <!-- gnb -->
    <div class="gnb">
      <!-- header -->
      <div class="header">
        <h1>이자용</h1>
        <!-- menu -->
        <ul class="menu">
          <li><a href="/">메뉴1</a></li>
          <li><a href="/">메뉴2</a></li>
          <li><a href="/">메뉴3</a></li>
        </ul>
        <!-- .menu -->
      </div>
      <!-- .header -->
      <!-- desc -->
      <div class="desc">
        <ul>
          <li><p>설명1</p></li>
          <li><p>설명2</p></li>
          <li><p>설명3</p></li>
        </ul>
      </div>
      <!-- .desc -->
    </div>
    <!-- .gnb -->

    <div class="content">
      <div class="pictures">
        <ul>
          <li><img src="asset/images/1.jpg" alt=""></li>
          <li><img src="asset/images/2.jpg" alt=""></li>
          <li><img src="asset/images/3.jpg" alt=""></li>
          <li><img src="asset/images/4.jpg" alt=""></li>
          <li><img src="asset/images/5.jpg" alt=""></li>
          <li><img src="asset/images/1.jpg" alt=""></li>
          <li><img src="asset/images/2.jpg" alt=""></li>
          <li><img src="asset/images/3.jpg" alt=""></li>
          <li><img src="asset/images/4.jpg" alt=""></li>
          <li><img src="asset/images/5.jpg" alt=""></li>
        </ul>
      </div>
    </div>
  </body>
  <script>
  $(document).ready(function(){

    //빈 어레이 생성
    var offsetArray = [];
    var picIdx = 0;
    var winScroll = 0;
    var direction = 0;

    //각 옵셋값을 푸쉬
    $(".pictures img").each(function(){
      offsetArray.push($(this).offset().top);
    });

    //스크롤시 해당 이미지 인덱스 변환
    $("html, body").on('mousewheel DOMMouseScroll',function(e){
      winScroll = $(this).scrollTop();
      direction = e.originalEvent.wheelDelta;
      if(direction < 0){
        if(winScroll > offsetArray[picIdx+1]) picIdx++;
        console.log(picIdx);
      }else if(direction > 0){
        //if(winScroll < offsetArray[picIdx-2]) picIdx--;
      }
      
    });
  });
  </script>
</html>
